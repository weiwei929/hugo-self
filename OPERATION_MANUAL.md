# Hugo-Self 操作手册

**版本**: 1.0  
**更新时间**: 2025-09-16  
**适用范围**: 清理优化版  

## 🚀 快速开始

### 系统要求
- **Python**: 3.6 或更高版本
- **Hugo**: Extended 版本 (推荐 0.148+)
- **操作系统**: Windows/Linux/macOS
- **浏览器**: Chrome/Firefox/Edge (现代浏览器)

### 一键启动
```bash
# 在项目根目录执行
python scripts/start_separated.py

# 或使用批处理文件 (Windows)
start_admin.bat
```

### 访问地址
- **博客网站**: http://localhost:8000/
- **管理后台**: http://localhost:8080/
- **API 服务**: http://localhost:8081/

## 🔐 登录管理

### 登录信息
- **用户名**: `admin`
- **密码**: `CHENpengfei186`
- **会话时长**: 24小时

### 登录流程
1. 访问 http://localhost:8080/login/
2. 输入用户名和密码
3. 点击"登录"按钮
4. 自动跳转到管理后台

### 快捷键
- `Ctrl + Enter`: 快速登录
- `ESC`: 清空表单
- `Tab`: 切换输入框

## 🎛️ 管理后台

### 主要功能
1. **集成式编辑器**: 文档编辑和发布
2. **文档管理**: 浏览和管理所有文档
3. **图片资源**: 管理博客图片资源
4. **文档处理**: 批量处理和格式转换

### 统计信息
- **已发布文章**: 显示已发布的文章数量
- **草稿文章**: 显示草稿状态的文章
- **总文档数**: 显示系统中的总文档数
- **图片资源**: 显示图片资源数量

### 退出登录
1. 点击右上角"退出登录"按钮
2. 确认退出操作
3. 自动清除登录状态
4. 跳转到登录页面

## 🔧 系统管理

### 服务管理
```bash
# 启动所有服务
python scripts/start_separated.py

# 停止服务 (Ctrl+C)
# 在运行窗口按 Ctrl+C

# 检查服务状态
curl http://localhost:8081/api/health
```

### 端口管理
- **Hugo**: 8000 (固定)
- **管理后台**: 8080 (固定)
- **API**: 8081 (固定)

### 日志监控
```bash
# 查看实时日志
# 日志会在启动窗口中显示

# 常见日志信息
✅ 服务启动成功
📊 统计数据更新
🔐 用户登录/退出
❌ 错误信息
```

## 📁 文件管理

### 重要目录
```
hugo-self/
├── layouts/admin/          # 管理后台模板
├── scripts/               # 启动和管理脚本
├── content/               # Hugo 内容文件
├── static/                # 静态资源
├── assets/                # Hugo 资源管道
└── admin/                 # 管理数据目录
    ├── pending/           # 待处理文档
    ├── processed/         # 已处理文档
    └── images/            # 图片资源
```

### 配置文件
- `hugo.toml`: Hugo 主配置
- `scripts/start_separated.py`: 启动脚本配置
- `layouts/admin/login.html`: 登录页面配置

## 🛠️ 故障排除

### 常见问题

#### 1. 服务启动失败
**症状**: 启动脚本报错或服务无法启动
**解决方案**:
```bash
# 检查 Python 版本
python --version

# 检查 Hugo 版本  
hugo version

# 检查端口占用
netstat -ano | findstr :8080

# 终止占用进程
taskkill /PID <PID> /F
```

#### 2. 登录页面无法访问
**症状**: 浏览器显示"无法访问此网站"
**解决方案**:
1. 确认管理后台服务已启动
2. 检查端口 8080 是否被占用
3. 尝试访问 http://127.0.0.1:8080/login/

#### 3. 登录失败
**症状**: 提示"用户名或密码错误"
**解决方案**:
1. 确认用户名: `admin`
2. 确认密码: `CHENpengfei186`
3. 检查浏览器控制台是否有错误

#### 4. 页面样式异常
**症状**: 页面显示简陋或样式缺失
**解决方案**:
1. 刷新浏览器页面 (F5)
2. 清除浏览器缓存
3. 检查 Hugo 服务器是否正常运行

### 紧急恢复

#### 完全重启
```bash
# 1. 停止所有服务 (Ctrl+C)
# 2. 等待 5 秒
# 3. 重新启动
python scripts/start_separated.py
```

#### 重置登录状态
```javascript
// 在浏览器控制台执行
localStorage.removeItem('hugo_self_auth');
location.reload();
```

## 📊 性能优化

### 系统性能
- **启动时间**: < 10 秒
- **页面响应**: < 200ms
- **内存使用**: < 100MB
- **CPU 使用**: < 5%

### 优化建议
1. 定期清理浏览器缓存
2. 关闭不必要的浏览器标签
3. 确保系统有足够的可用内存
4. 定期重启服务以释放资源

## 🔒 安全建议

### 密码安全
- 定期更改管理员密码
- 不要在公共场所使用管理后台
- 及时退出登录

### 网络安全
- 仅在本地网络使用
- 不要暴露到公网
- 定期检查访问日志

## 📞 技术支持

### 自助诊断
1. 检查系统要求是否满足
2. 查看启动日志中的错误信息
3. 尝试重启服务
4. 清除浏览器缓存

### 日志收集
如需技术支持，请提供:
1. 启动脚本的完整输出
2. 浏览器控制台错误信息
3. 操作系统和版本信息
4. Python 和 Hugo 版本信息

---

**提示**: 本手册基于当前稳定版本编写，如有更新请及时查看最新版本的文档。
